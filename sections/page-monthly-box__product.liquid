{% comment %}
** Featured product - dynamic **
- Draggable section
- Uses blocks
{% endcomment %}

{% assign width = section.settings.width %}
 
{% assign padding_top = section.settings.padding_top %}
{% assign padding_bottom = section.settings.padding_bottom %}

{% assign css_class = section.settings.css_class %}
{% assign custom_css = section.settings.custom_css %}

{% assign animation = section.settings.animation | default: 'none' %}

{% style %}
  #shopify-section-{{ section.id }} {
    padding-top: {{ padding_top }}px;
    {% if width == 'wide' -%}
      width: 100%;
    {%- endif %}
    background-color: {{ section.settings.background_color }};
  }

  #shopify-section-{{ section.id }}  section{
    padding-bottom: {{ padding_bottom }}px;
  }



  {% include 'css-loop', css: custom_css, id: id %}

  {% if section.blocks.size > 0 %}
    {% for block in section.blocks %}
        .block-{{ block.id }} h2.title-top {
            color: {{ block.settings.product_heading_color }};
            text-align: center;
        }

        {% if block.settings.is-most_popular %}
            .block-{{ block.id }} .column:hover {
                box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                border-radius: 10px;
            }
            .block-{{ block.id }} .column:hover .top_badge p {
                border-top-left-radius: 10px;
                border-top-right-radius: 10px;
            }
        {% else %}
            .block-{{ block.id }} .column:hover .product-bottom_info {
                box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                border-radius: 10px;
            }
            .block-{{ block.id }} .column:hover .title-top {
                border-top-left-radius: 10px;
                border-top-right-radius: 10px;
            }
        {% endif %}
    {% endfor %}
  {% endif %}
{% endstyle %}

{% comment %} HTML markup {% endcomment %}
  <section class="section
                container
                {{ css_class }}
                is-width-{{ width }}
                "
          {% if animation != "none" %}
            data-scroll-class="{{ animation }}"
          {% endif %}>

{% if section.blocks.size > 0 %}
    {% for block in section.blocks %}
        {% include 'include-monthly-products', type: 'block' %}
    {% endfor %}
{% endif %}

</section>
{% if section.settings.show_wave_border %}
<div class="product-header-wave">
  {% include 'include-wave_background', color: 'white' %}
</div>
{% endif %}

{% schema %}
{ 
  "name": "Featured product",
  "class": "Monthly-box_products-section jsMonthlyProductsList",
  "max_blocks": 3,
  "settings": [
    {
        "type": "text",
        "id": "css_class",
        "label": "CSS Class"
    },
    {
        "type": "textarea",
        "id": "custom_css",
        "label": "Custom CSS"
    },
    {
        "type": "select",
        "id": "width",
        "label": "Width",
        "default": "standard",
        "options": [
            {
                "value": "standard",
                "label": "Standard"
            },
            {
                "value": "wide",
                "label": "Wide"
            }
        ]
    },
    {
        "type": "color",
        "id": "background_color",
        "label": "Background Color",
        "default": "#f6f2ed"
    },
    {
      "type": "checkbox",
      "id": "show_wave_border",
      "label": "Show Wave Border",
      "default": true
    },
    {
        "type": "range",
        "id": "padding_top",
        "label": "Top spacing",
        "min": 0,
        "max": 80,
        "default": 20,
        "unit": "px"
    },
    {
        "type": "range",
        "id": "padding_bottom",
        "label": "Bottom spacing",
        "min": 0,
        "max": 80,
        "default": 20,
        "unit": "px"
    },
    {
        "type": "select",
        "id": "animation",
        "label": "Animation",
        "default": "none",
        "options": [
        {
            "value": "none",
            "label": "None"
        },
        {
            "value": "fadeIn",
            "label": "Fade in"
        },
        {
            "value": "fadeInDown",
            "label": "Fade in down"
        },
        {
            "value": "fadeInLeft",
            "label": "Fade in left"
        },
        {
            "value": "fadeInRight",
            "label": "Fade in right"
        },
        {
            "value": "slideInLeft",
            "label": "Slide in left"
        },
        {
            "value": "slideInRight",
            "label": "Slide in right"
        },
        {
            "value": "zoomIn",
            "label": "Zoom in"
        }
        ]
    }
  ],
  "blocks": [
  {
      "type": "product",
      "name": "Product",
      "settings": [
        {
            "type": "product",
            "id": "featured_product",
            "label": "Product"
        },
        {
            "type": "header",
            "content": "Product gallery"
        },
        {
            "type": "header",
            "content": "Product information"
        },
        {
            "type": "checkbox",
            "id": "is-most_popular",
            "label": "Most Popular",
            "default": true
        },   
        {
            "type": "text",
            "id": "product_heading",
            "label": "Product Heading",
            "default": "SAMARITAN"
        },      
        {
            "type": "color",
            "id": "product_heading_color",
            "label": "Color",
            "default": "#ffb0b2"
        }
    ]
  }],
  "presets": [{
    "name": "Featured product",
    "category": "Product",
    "settings": {

    }
  }] 
}
{% endschema %}