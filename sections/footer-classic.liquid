{% comment %}
** Footer - classic - static **
- Static section
- Uses blocks
{% endcomment %}

{% assign id = section.id %}

{% comment %} Advanced {% endcomment %}
{% assign css_class = section.settings.css_class %}
{% assign custom_css = section.settings.custom_css %}

{% style %}
  {% include 'css-loop', css: custom_css, id: id %}
{% endstyle %}

{% comment %} HTML markup {% endcomment %}
<footer class="footer__container {{ css_class }}">
  {% comment %}
  <div class="footer__scroll_to_top is-flex is-flex-wrap is-justify-center">
    <a class="scroll-to-top" href="javascript:;">
      <svg xmlns="http://www.w3.org/2000/svg" width="53" height="53" viewBox="0 0 53 53">
        <defs>
            <style>
                .scroll-top1{fill:#fafafa}.scroll-top2{fill:#f4364c}.scroll-top3{fill:#444;font-size:10px;font-family:Nunito-Bold,Nunito;font-weight:700}.scroll-top4{filter:url(#Ellipse_17)}
            </style>
            <filter id="Ellipse_17" width="53" height="53" x="0" y="0" filterUnits="userSpaceOnUse">
                <feOffset dy="3"/>
                <feGaussianBlur result="blur" stdDeviation="3"/>
                <feFlood flood-opacity=".161"/>
                <feComposite in2="blur" operator="in"/>
                <feComposite in="SourceGraphic"/>
            </filter>
        </defs>
        <g id="Group_1604" data-name="Group 1604" transform="rotate(180 148.5 2191)">
            <g class="scroll-top4" transform="rotate(180 148.5 2191)">
                <circle id="Ellipse_17-2" cx="17.5" cy="17.5" r="17.5" class="scroll-top1" data-name="Ellipse 17" transform="rotate(180 22 20.5)"/>
            </g>
            <g id="Group_1778" data-name="Group 1778" transform="translate(5 -2.146)">
                <g id="Icon_ionic-ios-arrow-dropright" data-name="Icon ionic-ios-arrow-dropright" transform="rotate(90 -2035.18 2314.445)">
                    <path id="Path_8163" d="M14.711 10.275a1.008 1.008 0 0 1 1.421 0l4.968 4.981a1 1 0 0 1 .031 1.384l-4.892 4.908a1 1 0 1 1-1.421-1.416l4.158-4.221-4.262-4.221a.993.993 0 0 1-.003-1.415z" class="scroll-top2" data-name="Path 8163" transform="translate(2.132 -1.717)"/>
                </g>
                <text id="TOP" class="scroll-top3" transform="rotate(-180 132.5 2176.5)">
                    <tspan x="-10.05" y="0">TOP</tspan>
                </text>
            </g>
        </g>
    </svg>
    </a>
  </div>
  {% endcomment %}
  <section class="footer__content
                  section
                  is-width-wide
                  has-background
                  has-padding-top
                  has-padding-bottom">
    <div class="container has-limit is-justify-space-between">
      {% for block in section.blocks %}
        {% if block.type == 'newsletter' %}
        <div id="shopify-section-{{ block.id }}" class="footer__block block__{{ block.id }} block__{{ block.type | downcase | replace: '_', '-' }}
        one-whole column is-flex is-marginless"
                    {{ block.shopify_attributes }}>
              {% comment %} Newsletter {% endcomment %}
              <div class="one-half medium-down--one-whole column is-flex is-justify-left">
                {% if block.settings.newsletter_title != blank %}
                  <p class="footer__heading">{{ block.settings.newsletter_title }}</p>
                {% endif %}

                {% if block.settings.newsletter_richtext != blank %}
                  <div class="content">
                    {{ block.settings.newsletter_richtext }}
                  </div>
                {% endif %}
              </div>
              <div class="one-half medium-down--one-whole column is-flex is-justify-right">
                {% include 'newsletter-form', type: 'block' %}

                {% if block.settings.social_icons_footer %}
                  <div class="has-padding-bottom has-padding-top is-hidden-mobile-only">
                    {% include 'social-icons' %}
                  </div>
                {% endif %}
            </div>
        </div>
        {% endif %} 
      {% endfor%}
      {% for block in section.blocks %}
        <div id="shopify-section-{{ block.id }}" class="footer__block block__{{ block.id }} block__{{ block.type | downcase | replace: '_', '-' }}
                    {% include 'column-width', value: section.blocks.size-1 %}
                    {% if block.type == 'link_list' %}
                    medium-down--one-whole column
                    {% else %}
                    medium-down--one-whole column
                    {% endif %} "
                    {{ block.shopify_attributes }}>
          {% if block.type == 'logo' %}
            {% comment %} Logo and text {% endcomment %}
            <div>
              <a href="{{ shop.url }}" title="{{ shop.name }}" class="footer__logo-wrapper has-padding-bottom is-{{ block.settings.size }}">
                {% if block.settings.logo %}
                  {% include 'image-element', image: block.settings.logo, alt: block.settings.logo.alt, additional_classes: 'footer__logo' %}
                {% else %}
                  <h2 class="footer__heading">{{ shop.name }}</h2>
                {% endif %}
              </a>
              {% if block.settings.text != blank %}
                {{ block.settings.text }}
              {% endif %}
              {% if block.settings.social_icons_footer %}
                <div class="has-padding-bottom has-padding-top is-hidden-mobile-only">
                  {% include 'social-icons' %}
                </div>
              {% endif %}
            </div>

          {% elsif block.type == 'html' %}

            {% include 'include-html', type: 'block' %}

          {% elsif block.type == 'link_list' %}
            {% comment %} Menu {% endcomment %}
            {% include 'footer__menu', menu_link: block.settings.menu %}

            {% if block.settings.social_icons_footer %}
              <div class="has-padding-bottom has-padding-top">
                {% include 'social-icons' %}
              </div>
            {% endif %}

          {% elsif block.type == 'text' %}
            {% comment %} Text {% endcomment %}
            {% if block.settings.title != blank %}
              <p class="footer__heading">{{ block.settings.title }}</p>
            {% endif %}
            {% if block.settings.content != blank %}
              {{ block.settings.content }}
            {% endif %}

            {% if block.settings.social_icons_footer %}
              <div class="has-padding-bottom has-padding-top">
                {% include 'social-icons' %}
              </div>
            {% endif %}

          {% endif %}
        </div>
      {% endfor %}
    </div>
  </section>
  <section class="footer__extra-content section">
    {% for block in section.blocks %}
      {% if block.type == 'logo' %}
        {% if block.settings.social_icons_footer %}
        <div class="has-padding-bottom has-padding-top  is-hidden-desktop-only social-icons-extra">
          {% include 'social-icons' %}
        </div>
        {% endif %}
      {% endif %}
    {% endfor %}
    <div class="container has-padding-top has-padding-bottom">
      {% if section.settings.display_payment_methods %}
      <div class="footer__payment-methods one-whole is-flex is-justify-end is-flex-wrap is-hidden-desktop-only">
        <div class="payment-methods">
          <img src="{{ 'footer_payment_icons.png' | asset_img_url : 'master' }}" />

          {% for type in shop.enabled_payment_types %}
            {{ type | payment_type_svg_tag: class:'payment-icon' }}
          {% endfor %}

        </div>
      </div>
    {% endif %}

      <div class="footer__social_icons one-half column small-down--one-whole is-flex is-justify-start is-flex-wrap is-marginless">
        {% assign footer_only_mobile_menu = linklists[settings.footer_only_mobile_menu] %}
        <div class="footer_only_mobile_menu">
          <div class="footer_only_mobile_menu-items
                      is-flex
                      is-flex-wrap
                      is-justify-start
                      ">
            {% for link in footer_only_mobile_menu.links %}
              {% if link.links == blank %}
                <div class="navbar-item header__item {% if link.active or link.child_active %}is-active{% endif %}" data-navlink-handle="{{ link.title | handleize }}">
                  <a href="{{ link.url }}" class="navbar-link header__link {% if link.active %}is-active{% endif %} is-arrowless">
                    {{ link.title }}
                  </a>

                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>

      <div class="footer__credits one-half  column small-down--one-whole is-justify-end is-align-end is-marginless">
        {% comment %}{{ shop.name | link_to: '/' }} {{ "now" | date: "%Y" }}  {% endcomment %}
        <p> &copy;</p>
        {{ section.settings.copyright_text }}
        {% if section.settings.display_designed_by %}
          <p>{{ 'layout.general.designer_credits_html' | t }}</p>
        {% endif %}
        {% if section.settings.display_shopify %}
          <p>{{ powered_by_link | split: '" ' | join: '&ref=out-of-the-sandbox" ' | split: '">' | join: '&ref=out-of-the-sandbox">' }}</p>
        {% endif %}
  
      </div>
    </div>
  </section>
</footer>
{% comment %}JavaScript{% endcomment %}
<script src="{{ 'z__jsFooter.js' | asset_url }}"></script>

{% schema %}

{
  "name": "Footer",
  "class": "footer footer--classic",
  "max_blocks": 5,
  "settings": [
    {
      "type": "richtext",
      "id": "copyright_text",
      "label": "Copyright text"
    },
    {
      "type": "checkbox",
      "id": "display_designed_by",
      "label": "Show theme designer credits",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "display_shopify",
      "label": "Show Powered by Shopify",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "display_payment_methods",
      "label": "Show payment method icons",
      "default": true
    },
    {
      "type": "header",
      "content": "Advanced"
    },
    {
      "type": "paragraph",
      "content": "[Learn more](https://help.outofthesandbox.com/hc/en-us/articles/360022329373)"
    },
    {
      "type": "text",
      "id": "css_class",
      "label": "CSS Class"
    },
    {
      "type": "textarea",
      "id": "custom_css",
      "label": "Custom CSS"
    }
  ],
  "blocks": [
    {
      "type": "html",
      "name": "Custom HTML",
      "settings": [
        {
          "type": "textarea",
          "id": "html_content",
          "label": "HTML",
          "default": "<h2 class='footer__heading'>Your own custom HTML</h2>"
        }
      ]
    },
    {
      "type": "logo",
      "name": "Logo and text",
      "settings": [
        {
          "type": "header",
          "content": "Logo"
        },
        {
          "type": "image_picker",
          "id": "logo",
          "label": "Logo",
          "info": "500 x 200px recommended"
        },
        {
          "type": "select",
          "id": "size",
          "label": "Logo size",
          "default": "small",
          "options": [
            {
              "value": "small",
              "label": "Small"
            },
            {
              "value": "medium",
              "label": "Medium"
            },
            {
              "value": "large",
              "label": "Large"
            }
          ]
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text"
        },
        {
          "type": "checkbox",
          "id": "social_icons_footer",
          "label": "Show social media icons",
          "default": false
        }
      ]
    },
    {
      "type": "link_list",
      "name": "Menu",
      "settings": [
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu",
          "info": "This menu won't show drop-down items.",
          "default": "footer"
        },
        {
          "type": "checkbox",
          "id": "social_icons_footer",
          "label": "Show social media icons",
          "default": false
        }
      ]
    },
    {
      "type": "newsletter",
      "name": "Newsletter",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "newsletter_title",
          "label": "Heading",
          "default": "Subscribe"
        },
        {
          "type": "richtext",
          "id": "newsletter_richtext",
          "label": "Text",
          "default": "<p>Sign up to get the latest on sales, new releases and more â€¦</p>"
        },
        {
          "type": "checkbox",
          "id": "display_first_name",
          "label": "Show first name"
        },
        {
          "type": "checkbox",
          "id": "display_last_name",
          "label": "Show last name"
        }
      ]
    },
    {
      "type": "text",
      "name": "Text",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "Title"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Text",
          "default": "<p>Use this text to share information about your brand with your customers. Describe a product, share announcements, or welcome customers to your store.</p>"
        },
        {
          "type": "checkbox",
          "id": "social_icons_footer",
          "label": "Show social media icons",
          "default": false
        }
      ]
    },
    {
      "type": "empty",
      "name": "Empty column",
      "settings": [
      ]
    }
  ],
  "default": {
    "blocks": [
      {
        "type": "logo"
      },
      {
        "type": "link_list",
        "settings": {
          "menu": "main-menu"
        }
      },
      {
        "type": "text"
      }
    ]
  }
}

{% endschema %}
